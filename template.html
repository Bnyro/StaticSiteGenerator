<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="/assets/icon.svg">

    <link rel="stylesheet" href="../assets/style.css">

    <title>{{title}}</title>
</head>

<body>

    <nav>
        <ol>
            {{navlinks}}
        </ol>
    </nav>

    <main>

        <header>

            <span id="theme-container">
                <div id="brush"></div>

                <select id="theme-select">
                    <option value="colibri">Colibri</option>
                    <option value="rose-pine">Ros√© Pine</option>
                    <option value="material">Material</option>
                </select>

            </span>

            <a class="nav-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </a>

        </header>

        <section>

            <h1>{{title}}</h1>
            <p>By {{author}}, {{date}}</p>

            {{content}}

        </section>

    </main>

</body>

</html>

<script>
    let $ = document.querySelector.bind(document);
    let $$ = document.querySelectorAll.bind(document);

    function toggleHamburger() {
        $$('.bar').forEach(bar => bar.classList.toggle('x'));
        $('nav').classList.toggle('visible');
    }

    $('.nav-toggle').addEventListener('click', toggleHamburger);

    $('#theme-select').addEventListener('change', (e) => {
        $('html').classList.remove(...$('html').classList);
        $('html').classList.add($('#theme-select').value);
        localStorage.setItem("theme", $('#theme-select').value);
    });

    let selectedTheme = localStorage.getItem("theme");
    if (selectedTheme) {
        $('html').classList.add(selectedTheme);
        $('#theme-select').value = selectedTheme;
    }
</script>